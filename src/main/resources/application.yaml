spring:
  application:
    name: vietnam-artisan-api
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  
  # Jackson JSON Configuration
  jackson:
    time-zone: UTC
    serialization:
      write-dates-as-timestamps: false

  # Database Configuration
  datasource:
    url: jdbc:postgresql://localhost:5433/vietnam_artisan
    username: postgres
    password: postgres
    driver-class-name: org.postgresql.Driver

  # JPA/Hibernate Configuration
  jpa:
    hibernate:
      ddl-auto: validate  # Changed from 'update' - Flyway manages schema
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        jdbc:
          time_zone: UTC

  # Flyway Configuration
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    baseline-version: '0'
    clean-disabled: false

# Server Configuration
server:
  port: 8080

# JWT Configuration
jwt:
  secret: ThisIsAVeryLongSecretKeyForJWTTokenGenerationThatShouldBeAtLeast256BitsLong
  expiration: 86400000  # 24 hours in milliseconds

# MinIO Configuration
minio:
  endpoint: http://localhost:9003
  access-key: minioadmin
  secret-key: minioadmin
  bucket-name: craft-connect
  file:
    max-size: 10485760  # 10MB in bytes
    allowed-types:
      - image/jpeg
      - image/jpg
      - image/png
      - application/pdf
      - video/mp4
      - video/quicktime  # MOV files
